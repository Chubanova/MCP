# Контракт результатов инструментов MCP-сервера

## Общий формат ответа

Все инструменты возвращают результат в следующем формате:

```javascript
{
  content: [
    {
      type: "text",
      text: "Содержимое результата"
    }
  ],
  isError?: boolean // Опциональное поле, указывающее на ошибку
}
```

## Инструмент: get_documentation

### Входные параметры
```javascript
{
  query: string, // Запрос для поиска документации (package/class/function)
  source?: string // Источник документации (по умолчанию: local)
}
```

### Формат результата
```javascript
{
  content: [
    {
      type: "text",
      text: "Документация для запрошенного элемента"
    }
  ]
}
```

## Инструмент: search_project

### Входные параметры
```javascript
{
  query: string, // Поисковый запрос
  filePattern?: string // Паттерн файлов для поиска (по умолчанию: "*")
}
```

### Формат результата
```javascript
{
  content: [
    {
      type: "text",
      text: "Результаты поиска в формате:\n1. путь_к_файлу:номер_строки - содержимое\n2. ..."
    }
  ]
}
```

## Инструмент: run_command

### Входные параметры
```javascript
{
  command: string, // Команда для выполнения
  args?: string[] // Аргументы команды
}
```

### Формат результата
```javascript
{
  content: [
    {
      type: "text",
      text: "Результат выполнения команды:\n\nSTDOUT:\n[вывод]\n\nSTDERR:\n[ошибки]"
    }
  ]
}
```

### Ограничения безопасности
- Выполняемые команды должны быть в whitelist'е ALLOWED_COMMANDS
- Команды выполняются в директории PROJECT_PATH
- Запрещено выполнение команд, не перечисленных в ALLOWED_COMMANDS